{"code":"!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";n.r(e);var r=\".\",i={},a=function(){function t(t,e,n,r,a,o,s){void 0===r&&(r=[]),void 0===a&&(a=i),void 0===o&&(o={}),void 0===s&&(s=[]),this.value=t,this.historyValue=e,this.history=n,this.actions=r,this.activities=a,this.data=o,this.events=s}return t.from=function(e){return e instanceof t?e:new t(e)},t.inert=function(e){return e instanceof t?e.actions.length?new t(e.value,e.historyValue,e.history,[],e.activities):e:t.from(e)},t.prototype.toString=function(){if(\"string\"==typeof this.value)return this.value;for(var t=[],e=this.value;;){if(\"string\"==typeof e){t.push(e);break}var n=Object.keys(e),i=n[0];if(n.slice(1).length)return;t.push(i),e=e[i]}return t.join(r)},t}();function o(t){try{return\"string\"==typeof t||\"number\"==typeof t?\"\"+t:t.type}catch(t){throw new Error(\"Events must be strings or objects with a string event.type property.\")}}function s(t){try{return\"string\"==typeof t||\"number\"==typeof t?\"\"+t:\"function\"==typeof t?t.name:t.type}catch(t){throw new Error(\"Events must be strings or objects with a string event.type property.\")}}function u(t,e){try{return Array.isArray(t)?t:t.toString().split(e)}catch(e){throw new Error(\"'\"+t+\"' is not a valid state path.\")}}function c(t,e){return t instanceof a?t.value:\"object\"!=typeof t||t instanceof a?h(u(t,e)):t}function h(t){if(1===t.length)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function f(t,e){var n={};return Object.keys(t).forEach(function(r){n[r]=e(t[r],r,t)}),n}function l(t,e,n){var r={};return Object.keys(t).forEach(function(i){var a=t[i];n(a)&&(r[i]=e(a,i,t))}),r}var p=function(t){return function(e){for(var n=e,r=0,i=t;r<i.length;r++){n=n[i[r]]}return n}};function y(t,e){return function(n){for(var r=n,i=0,a=t;i<a.length;i++){var o=a[i];r=r[e][o]}return r}}var v=function(t){return\"string\"==typeof t?[[t]]:g(Object.keys(t).map(function(e){return v(t[e]).map(function(t){return[e].concat(t)})}))},d=function(t){var e={};if(t&&1===t.length&&1===t[0].length)return t[0][0];for(var n=0,r=t;n<r.length;n++)for(var i=r[n],a=e,o=0;o<i.length;o++){var s=i[o];if(o===i.length-2){a[s]=i[o+1];break}a[s]=a[s]||{},a=a[s]}return e},g=function(t){return t.reduce(function(t,e){return t.concat(e)},[])};function m(t,e,n){void 0===n&&(n=r);var i=c(t,n),a=c(e,n);return\"string\"==typeof a?\"string\"==typeof i&&a===i:\"string\"==typeof i?i in a:Object.keys(i).every(function(t){return t in a&&m(i[t],a[t])})}var S={start:\"xstate.start\",stop:\"xstate.stop\",raise:\"xstate.raise\",send:\"xstate.send\",cancel:\"xstate.cancel\",null:\"xstate.null\"},w=function(t){return function(e){var n=\"string\"==typeof e||\"number\"==typeof e?{type:e}:e;return{type:t,activity:o(e),data:n}}},x=function(t){return\"string\"==typeof t||\"number\"==typeof t?{type:t}:t},b=w(S.start),E=w(S.stop),N=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},k=\".\",j=\"\",O=function(t){return\"#\"===t[0]},_={guards:{}},A=function(){function t(e,n){void 0===n&&(n=_);var r=this;this.config=e,this.options=n,this.__cache={events:void 0,relativeValue:new Map,initialState:void 0},this.idMap={},this.key=e.key||\"(machine)\",this.parent=e.parent,this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=e.delimiter||(this.parent?this.parent.delimiter:k),this.id=e.id||(this.machine?[this.machine.key].concat(this.path).join(this.delimiter):this.key),this.initial=e.initial,this.parallel=!!e.parallel,this.states=e.states?f(e.states,function(e,n){var i,a=new t(N({},e,{key:n,parent:r}));return Object.assign(r.idMap,N(((i={})[a.id]=a,i),a.idMap)),a}):{},this.history=!0===e.history?\"shallow\":e.history||!1,this.on=e.on?this.formatTransitions(e.on):{},this.transient=!!this.on[j],this.strict=!!e.strict,this.onEntry=e.onEntry?[].concat(e.onEntry):[],this.onExit=e.onExit?[].concat(e.onExit):[],this.data=e.data,this.activities=e.activities}return t.prototype.getStateNodes=function(t){var e,n=this;if(!t)return[];var r=t instanceof a?t.value:c(t,this.delimiter);if(\"string\"==typeof r){var i=this.getStateNode(r).initial;return i?this.getStateNodes(((e={})[r]=i,e)):[this.states[r]]}var o=Object.keys(r);return o.map(function(t){return n.getStateNode(t)}).concat(o.reduce(function(t,e){var i=n.getStateNode(e).getStateNodes(r[e]);return t.concat(i)},[]))},t.prototype.handles=function(t){var e=o(t);return-1!==this.events.indexOf(e)},t.prototype._transitionLeafNode=function(t,e,n,r){var i=this.getStateNode(t),a=i._next(e,n,r);if(!a.value){var o=this._next(e,n,r),s=o.value,u=o.entryExitStates,c=o.actions,h=o.paths;return{value:s,entryExitStates:{entry:u?u.entry:new Set,exit:new Set([i].concat(u?Array.from(u.exit):[]))},actions:c,paths:h}}return a},t.prototype._transitionHierarchicalNode=function(t,e,n,r){var i=Object.keys(t),a=this.getStateNode(i[0]),o=a._transition(t[i[0]],e,n,r);if(!o.value){var s=this._next(e,n,r),u=s.value,c=s.entryExitStates,h=s.actions,f=s.paths;return{value:u,entryExitStates:{entry:c?c.entry:new Set,exit:new Set((o.entryExitStates?Array.from(o.entryExitStates.exit):[]).concat([a],c?Array.from(c.exit):[]))},actions:h,paths:f}}return o},t.prototype._transitionOrthogonalNode=function(t,e,n,r){var i=this,a=[],o={};if(Object.keys(t).forEach(function(s){var u=t[s];if(u){var c=i.getStateNode(s)._transition(u,e,n,r);c.value||a.push(s),o[s]=c}}),!Object.keys(o).some(function(t){return void 0!==o[t].value})){var s=this._next(e,n,r),u=s.value,c=s.entryExitStates,f=s.actions,l=s.paths;return{value:u,entryExitStates:{entry:c?c.entry:new Set,exit:new Set(Object.keys(this.states).map(function(t){return i.states[t]}).concat(c?Array.from(c.exit):[]))},actions:f,paths:l}}var y=g(Object.keys(o).map(function(t){return o[t].paths}));if(1===y.length&&!m(h(this.path),h(y[0])))return{value:this.machine.resolve(d(y)),entryExitStates:Object.keys(o).map(function(t){return o[t].entryExitStates}).reduce(function(t,e){var n=e,r=n.entry,i=n.exit;return{entry:new Set(Array.from(t.entry).concat(Array.from(r))),exit:new Set(Array.from(t.exit).concat(Array.from(i)))}},{entry:new Set,exit:new Set}),actions:g(Object.keys(o).map(function(t){return o[t].actions})),paths:y};var S=g(Object.keys(o).map(function(t){var n=o[t].value||e.value;return v(p(i.path)(n)[t]).map(function(e){return i.path.concat(t,e)})})),w=this.machine.resolve(d(S));return{value:w,entryExitStates:Object.keys(o).reduce(function(t,e){var n=o[e],r=n.value,i=n.entryExitStates;if(!r||!i)return t;var a=i.entry,s=i.exit;return{entry:new Set(Array.from(t.entry).concat(Array.from(a))),exit:new Set(Array.from(t.exit).concat(Array.from(s)))}},{entry:new Set,exit:new Set}),actions:g(Object.keys(o).map(function(t){return o[t].actions})),paths:v(w)}},t.prototype._transition=function(t,e,n,r){return\"string\"==typeof t?this._transitionLeafNode(t,e,n,r):1===Object.keys(t).length?this._transitionHierarchicalNode(t,e,n,r):this._transitionOrthogonalNode(t,e,n,r)},t.prototype._next=function(t,e,n){var r=this,i=o(e),a=this.on[i],s=this.transient?[{type:S.null}]:[];if(!a||!a.length)return{value:void 0,entryExitStates:void 0,actions:s,paths:[]};for(var u,h=[],f=0,l=a;f<l.length;f++){var y=l[f],v=y,w=v.cond,b=v.in,E=n||{},N=x(e),k=!b||m(c(b,this.delimiter),p(this.path.slice(0,-2))(t.value));if((!w||this._evaluateCond(w,E,N,t.value))&&(!b||k)){h=Array.isArray(y.target)?y.target:[y.target],s.push.apply(s,y.actions?y.actions:[]),u=y;break}}if(0===h.length)return{value:void 0,entryExitStates:void 0,actions:s,paths:[]};var j=g(h.map(function(e){return r.getRelativeStateNodes(e,t.historyValue)})),O=j.map(function(t){return t.path}),_=j.reduce(function(t,e){var n=r._getEntryExitStates(e,!!u.internal),i=n.entry,a=n.exit;return{entry:new Set(Array.from(t.entry).concat(Array.from(i))),exit:new Set(Array.from(t.exit).concat(Array.from(a)))}},{entry:new Set,exit:new Set});return{value:this.machine.resolve(d(g(h.map(function(e){return r.getRelativeStateNodes(e,t.historyValue).map(function(t){return t.path})})))),entryExitStates:_,actions:s,paths:O}},t.prototype._getEntryExitStates=function(t,e){for(var n={entry:[],exit:[]},r=this.path,i=t.path,a=this.machine,o=0;o<Math.min(r.length,i.length);o++){var s=r[o];if(s!==i[o])break;a=a.getStateNode(s)}for(var u=a.path,c=a,h=0,f=r.slice(u.length);h<f.length;h++){var l=f[h];c=c.getStateNode(l),n.exit.unshift(c)}a===this&&(e||(n.exit.push(this),n.entry.push(this))),c=a;for(var p=0,y=i.slice(u.length);p<y.length;p++){l=y[p];c=c.getStateNode(l),n.entry.push(c)}return{entry:new Set(n.entry),exit:new Set(n.exit)}},t.prototype._evaluateCond=function(t,e,n,r){var i;if(\"string\"==typeof t){if(!this.machine.options.guards[t])throw new Error(\"String condition '\"+t+\"' is not defined on machine '\"+this.machine.id+\"'\");i=this.machine.options.guards[t]}else i=t;return i(e,n,r)},t.prototype._getActions=function(t){var e={entry:t.entryExitStates?g(Array.from(t.entryExitStates.entry).map(function(t){return t.onEntry.concat(t.activities?t.activities.map(function(t){return b(t)}):[])})):[],exit:t.entryExitStates?g(Array.from(t.entryExitStates.exit).map(function(t){return t.onExit.concat(t.activities?t.activities.map(function(t){return E(t)}):[])})):[]};return(e.exit||[]).concat(t.actions||[]).concat(e.entry||[])},t.prototype._getActivities=function(t,e){if(!e.entryExitStates)return{};var n=N({},t.activities);return Array.from(e.entryExitStates.exit).forEach(function(t){t.activities&&t.activities.forEach(function(t){n[s(t)]=!1})}),Array.from(e.entryExitStates.entry).forEach(function(t){t.activities&&t.activities.forEach(function(t){n[s(t)]=!0})}),n},t.prototype.transition=function(e,n,r){var i,s=\"string\"==typeof e?this.resolve(h(this.getResolvedPath(e))):e instanceof a?e:this.resolve(e),u=o(n);if(this.strict&&-1===this.events.indexOf(u))throw new Error(\"Machine '\"+this.id+\"' does not accept event '\"+u+\"'\");var c=a.from(s),f=s instanceof a?s.historyValue?s.historyValue:this.machine.historyValue(s.value):this.machine.historyValue(s),l=this._transition(c.value,c,n,r);try{this.ensureValidPaths(l.paths)}catch(t){throw new Error(\"Event '\"+u+\"' leads to an invalid configuration: \"+t.message)}var p=this._getActions(l),y=this._getActivities(c,l),v=p.filter(function(t){return\"object\"==typeof t&&(t.type===S.raise||t.type===S.null)}),d=p.filter(function(t){return\"object\"!=typeof t||t.type!==S.raise&&t.type!==S.null}),g=l.value?this.getStateNodes(l.value):[];g.some(function(t){return t.transient})&&v.push({type:S.null});var m={};g.forEach(function(t){m[t.id]=t.data});var w=l.value?new a(l.value,t.updateHistoryValue(f,l.value),c,d,y,m,v):void 0;if(!w)return a.inert(c);delete c.history;for(var x=w;v.length;){var b=x.actions,E=v.shift();(i=(x=this.transition(x,E.type===S.null?j:E.event,r)).actions).unshift.apply(i,b)}return x},t.prototype.ensureValidPaths=function(t){var e=this,n=new Map,r=g(t.map(function(t){return e.getRelativeStateNodes(t)}));t:for(var i=0,a=r;i<a.length;i++)for(var o=a[i],s=o;s.parent;){if(n.has(s.parent)){if(s.parent.parallel)continue t;throw new Error(\"State node '\"+o.id+\"' shares parent '\"+s.parent.id+\"' with state node '\"+n.get(s.parent).map(function(t){return t.id})+\"'\")}n.get(s.parent)?n.get(s.parent).push(o):n.set(s.parent,[o]),s=s.parent}},t.prototype.getStateNode=function(t){if(O(t))return this.machine.getStateNodeById(t);if(!this.states)throw new Error(\"Unable to retrieve child state '\"+t+\"' from '\"+this.id+\"'; no child states exist.\");var e=this.states[t];if(!e)throw new Error(\"Child state '\"+t+\"' does not exist on '\"+this.id+\"'\");return e},t.prototype.getStateNodeById=function(t){var e=O(t)?t.slice(\"#\".length):t,n=this.machine.idMap[e];if(!n)throw new Error(\"Substate '#\"+e+\"' does not exist on '\"+this.id+\"'\");return n},t.prototype.getStateNodeByPath=function(t){for(var e=u(t,this.delimiter),n=this;e.length;){var r=e.shift();n=n.getStateNode(r)}return n},t.prototype.resolve=function(t){var e,n=this;if(\"string\"==typeof t){var r=this.getStateNode(t);return r.initial?((e={})[t]=r.initialStateValue,e):t}return this.parallel?f(this.initialStateValue,function(e,r){return e?n.getStateNode(r).resolve(t[r]||e):{}}):f(t,function(t,e){return t?n.getStateNode(e).resolve(t):{}})},Object.defineProperty(t.prototype,\"resolvedStateValue\",{get:function(){var t,e,n=this.key;return this.parallel?((t={})[n]=l(this.states,function(t){return t.resolvedStateValue[t.key]},function(t){return!t.history}),t):this.initial?((e={})[n]=this.states[this.initial].resolvedStateValue,e):n},enumerable:!0,configurable:!0}),t.prototype.getResolvedPath=function(t){if(O(t)){var e=this.machine.idMap[t.slice(\"#\".length)];if(!e)throw new Error(\"Unable to find state node '\"+t+\"'\");return e.path}return u(t,this.delimiter)},Object.defineProperty(t.prototype,\"initialStateValue\",{get:function(){if(this.__cache.initialState)return this.__cache.initialState;var t=this.parallel?l(this.states,function(t){return t.initialStateValue||{}},function(t){return!t.history}):\"string\"==typeof this.resolvedStateValue?void 0:this.resolvedStateValue[this.key];return this.__cache.initialState=t,this.__cache.initialState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"initialState\",{get:function(){var t,e=this.initialStateValue;if(!e)throw new Error(\"Cannot retrieve initial state from simple state '\"+this.id+\".'\");var n={},r=[];this.getStateNodes(e).forEach(function(t){t.onEntry&&r.push.apply(r,t.onEntry),t.activities&&t.activities.forEach(function(t){n[o(t)]=!0,r.push(b(t))})});for(var i=r.filter(function(t){return\"object\"==typeof t&&(t.type===S.raise||t.type===S.null)}),s=new a(e,void 0,void 0,r,n);i.length;){var u=s.actions,c=i.shift();(t=(s=this.transition(s,c.type===S.null?j:c.event,void 0)).actions).unshift.apply(t,u)}return s},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"target\",{get:function(){var t;if(this.history){var e=this.config;t=e.target&&\"string\"==typeof e.target&&O(e.target)?h(this.machine.getStateNodeById(e.target).path.slice(this.path.length-1)):e.target}return t},enumerable:!0,configurable:!0}),t.prototype.getStates=function(t){var e=this;if(\"string\"==typeof t)return[this.states[t]];var n=[];return Object.keys(t).forEach(function(r){n.push.apply(n,e.states[r].getStates(t[r]))}),n},t.prototype.getRelativeStateNodes=function(t,e,n){if(void 0===n&&(n=!0),\"string\"==typeof t&&O(t)){var r=this.getStateNodeById(t);return n?r.history?r.resolveHistory(e):r.initialStateNodes:[r]}var i=u(t,this.delimiter),a=(this.parent||this).getFromRelativePath(i,e);return n?g(a.map(function(t){return t.initialStateNodes})):a},Object.defineProperty(t.prototype,\"initialStateNodes\",{get:function(){var t=this;if(!this.parallel&&!this.initial)return[this];var e=this.initialState,n=v(e.value);return g(n.map(function(e){return t.getFromRelativePath(e)}))},enumerable:!0,configurable:!0}),t.prototype.getFromRelativePath=function(t,e){var n=this;if(!t.length)return[this];var r=t[0],i=t.slice(1);if(!this.states)throw new Error(\"Cannot retrieve subPath '\"+r+\"' from node with no states\");if(\"$history\"===r){if(!e)return[this];var a=y(this.path,\"states\")(e).current;return\"string\"==typeof a?this.states[a].getFromRelativePath(i,e):g(Object.keys(a).map(function(t){return n.states[t].getFromRelativePath(i,e)}))}var o=this.getStateNode(r);if(o.history)return o.resolveHistory(e);if(!this.states[r])throw new Error(\"Child state '\"+r+\"' does not exist on '\"+this.id+\"'\");return this.states[r].getFromRelativePath(i,e)},t.updateHistoryValue=function(t,e){return{current:e,states:function t(e,n){return f(e.states,function(e,r){if(e){var i=(\"string\"==typeof n?void 0:n[r])||(e?e.current:void 0);if(i)return{current:i,states:t(e,i)}}})}(t,e)}},t.prototype.historyValue=function(t){if(Object.keys(this.states).length)return{current:t||this.initialStateValue,states:l(this.states,function(e,n){if(!t)return e.historyValue();var r=\"string\"==typeof t?void 0:t[n];return e.historyValue(r||e.initialStateValue)},function(t){return!t.history})}},t.prototype.resolveHistory=function(t){var e=this;if(!this.history)return[this];var n=this.parent;if(!t)return this.target?g(v(this.target).map(function(t){return n.getFromRelativePath(t)})):this.parent.initialStateNodes;var r=y(n.path,\"states\")(t).current;return\"string\"==typeof r?[n.getStateNode(r)]:g(v(r).map(function(t){return\"deep\"===e.history?n.getFromRelativePath(t):[n.states[t[0]]]}))},Object.defineProperty(t.prototype,\"events\",{get:function(){if(this.__cache.events)return this.__cache.events;var t=this.states,e=new Set(Object.keys(this.on));return t&&Object.keys(t).forEach(function(n){var r=t[n];if(r.states)for(var i=0,a=r.events;i<a.length;i++){var o=a[i];e.add(\"\"+o)}}),this.__cache.events=Array.from(e)},enumerable:!0,configurable:!0}),t.prototype.formatTransition=function(t,e){var n=this,r=!!e&&e.internal,i=t.map(function(t){var e=\"string\"==typeof t&&t[0]===n.delimiter;return r=r||e,e&&!n.parent?t.slice(1):e?n.key+t:t});return N({},e,{target:i,internal:r})},t.prototype.formatTransitions=function(t){var e=this;return f(t,function(t){return void 0===t?[]:Array.isArray(t)?t.map(function(t){return e.formatTransition([].concat(t.target),t)}):\"string\"==typeof t?[e.formatTransition([t])]:Object.keys(t).map(function(n){return e.formatTransition([n],t[n])})})},t}();(t=>{let e=function(t,e){return new A(t,e)}(t);e._moString=(()=>{console.log(\"https://musing-rosalind-2ce8e7.netlify.com/?machine=\"+encodeURI(JSON.stringify(t),\"utf-8\"))})})({initial:\"stop\",states:{stop:{on:{START:\"start\"}},start:{on:{STOP:\"stop\",DEAD:\"dead\"},...{initial:\"down\",states:{down:{on:{KEEP:\"down\",TOUCH:\"touch\"}},touch:{on:{LIVE:\"down\",END:\"end\"}},end:{}}}},dead:{on:{RESTART:\"stop\"}}}});var V={map:[10,20],shape:{shape1:{stateNum:2,state1:{content:[[1],[1],[1],[1],[1]],row:[0,0,0,0,0]},state2:{content:[[1,1,1,1,1]],row:[0]}},shape2:{stateNum:1,state1:{content:[[1,1],[1,1]],row:[0,0]}},shape3:{stateNum:4,state1:{content:[[1,0],[1,1],[1,0]],row:[-1,0,-1]},state2:{content:[[0,1,0],[1,1,1]],row:[-1,0]},state3:{content:[[0,1],[1,1],[0,1]],row:[0,0,0]},state4:{content:[[1,1,1],[0,1,0]],row:[0,-1]}},shape4:{stateNum:4,state1:{content:[[1,1,1],[0,0,1]],row:[0,0]},state2:{content:[[0,1],[0,1],[1,1]],row:[0,0,0]},state3:{content:[[1,0,0],[1,1,1]],row:[-2,0]},state4:{content:[[1,1],[1,0],[1,0]],row:[0,-1,-1]}},shape5:{stateNum:2,state1:{content:[[1,0],[1,1],[0,1]],row:[-1,0,0]},state2:{content:[[0,1,1],[1,1,0]],row:[0,-1]}},shape6:{stateNum:2,state1:{content:[[0,1],[1,1],[1,0]],row:[0,0,-1]},state2:{content:[[1,1,0],[0,1,1]]}}}};const P=document.getElementById(\"elsfk-bg\"),R=document.getElementById(\"elsfk-block\"),F=P.getContext(\"2d\"),M=R.getContext(\"2d\");let T=(t,e,n,r)=>{1===e?t.fillRect(n,r,20,20):t.rect(n,r,20,20)},C=t=>{t.clearRect(0,0,200,400)};P.width=200,P.height=400,R.width=200,R.height=400;const I=(t,e,n)=>((t,e,n)=>{C(F),F.fillStyle=\"#FFFF00\",F.strokeStyle=\"#000000\";for(let r=0;r<n;r++)T(F,t[r],r%e*20,20*parseInt(r/e));F.stroke()})(t,e,n),H=(t,e,n)=>((t,e,n)=>{C(M),M.fillStyle=\"#FFFF00\",M.strokeStyle=\"#000000\";for(let r=0,i=t.content.length;r<i;r++)for(let i=0,a=t.content[r].length;i<a;i++)T(M,t.content[r][i],20*(e+r),20*(n-a+1+i));M.stroke()})(t,e,n),B=()=>C(M),U=V.map[0],D=V.map[1],L=U*D;let J,K=[],$=0,q=0,z=0,G=0;document.onkeydown=(t=>{let e=t||window.event,n=z;37!=e.keyCode&&39!=e.keyCode||(n+=e.keyCode%37-1,console.log(n))});let Q=(t,e,n)=>{let r=t.length;for(let i=0;i<r;i++){let r=(n+t[i])*U+e+i;if(1===K[r])return!0}return!1},W=(t,e,n)=>{let r=t.content;for(let t=0,i=r.length;t<i;t++)for(let i=0,a=r[t].length;i<a;i++){K[e+t+(n-a+1+i)*U]=r[t][i]}};(()=>{let t=Array(L);t.fill(0),(K=t)[44]=1,I(K,U,L)})(),(()=>{let t;J=V.shape[\"shape\"+parseInt(6*Math.random()+1)],$=J.stateNum,q=1,z=4,G=0,t=setInterval(function(){H(J[\"state\"+q],z,G++),(G===D||Q(J[\"state\"+q].row,z,G))&&(W(J[\"state\"+q],z,G-1),B(),I(K,U,L),clearInterval(t))},2e3)})()}]);","extractedComments":[]}